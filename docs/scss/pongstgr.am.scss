/*!
 * jQuery Pongstagr.am Plugin 
 * Copyright (c) 2013 Pongstr Ordillo
 * Version: 2.1.0
 * Code license under Apache License v2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 * Requires: jQuery v1.8+
 */
 

// Compass CSS3 Mixins
@import "compass/css3";


/**
 * Normalize.css
 * include this stylesheet if you're not using one or if it's not going to 
 * conflict with your stylesheet. This can help your styles consistent on
 * all browsers.
 *
 * @import url("normalize.css");
 *
 */
 

/* =========================================================================
  Media Grid Styles
  ========================================================================== */

.pongstagram {
  
  clear:   both;
  margin:  20px auto;
  padding: 20px;

  border: 1px solid #ddd;
  @include border-radius(5px);
  @include box-sizing(border-box);
  
  &:before,
  &:after {
    content: "";
    display: table;
    @include box-sizing(border-box);
  }
  &:after { clear: both; }
  
  > * {
    &:focus { outline: 0 none; }
    &:before,
    &:after {
      content: "";
      display: table;
      @include box-sizing(border-box);
    }    
    &:after { clear: both; }
  }

  // Img Styles
  img {
    display:        inline-block;
    height:         auto;
    width:          100%;
    max-width:      100%;
    vertical-align: middle;
  }
  
  // List Styles  
  ul {
    display: block;
    clear:   both;
    width:   100%;
    margin:  5px -10px;
    padding: 0 10px;
    
    list-style: none;
    
    > li {
      margin-top:     10px;
      margin-bottom:  10px;
      vertical-align: middle;
      position:       relative;
            
    }
  }
  
  // Media Block
  .media {
    
    min-width: 175px;
    min-height: 175px;
    
    margin: 0;
    padding: 5px;
    position: relative;
    
    cursor: pointer;
    border: 1px solid #eee;
    @include border-radius(4px);
    @include transition(all 100ms linear);
    
    &:hover {
      border: 1px solid rgba(#049cdb,0.4);
      @include transition(all 100ms linear);
      @include box-shadow(0 0 10px rgba(#049cdb,0.45));
    }
    
    &:active {
      border: 1px solid rgba(#049cdb,0.45);
      @include transition(all 100ms linear);
      @include box-shadow(0 0 18px rgba(#049cdb,0.45));
    }
    
    a { display: block; }

    .loader {
      width: 50px;
      height: 50px;
      margin-top: -25px;
      margin-left: -25px;
      position: absolute;
      top: 50%;
      left: 50%;
      z-index: 1;
      background: url("http://img.cdn.tl/loading2.gif") center center no-repeat;
    }
 
  }
  
  // Columns
  [class*="column-"] {
    display: block;
    float: left;
    margin-left: 2.127659574468085%;
    *margin-left: 2.074468085106383%;
  }
  
  .column-6 {
    width: 14.893617021276595%;
    *width: 14.840425531914894%;    
  }
  .column-4 {
    width: 23.404255319148934%;
    *width: 23.351063829787233%;    
  }
  
  .column-3 {
    width: 31.914893617021278%;
    *width: 31.861702127659576%;    
  }
  
  .column-2 {
    width: 48.93617021276595%;
    *width: 48.88297872340425%;    
  }

  // Fix for next-line breaking
  .column-2:nth-child(2n+1),
  .column-3:nth-child(3n+1),
  .column-4:nth-child(4n+1),
  .column-6:nth-child(6n+1) { margin-left: 0 !important;}
  
  .button {
    display: inline-block;
    margin: 5px auto;
    padding: 8px 16px;
    
    font-family: "Helvetica Neue", "Helvetica", sans-serif;
    font-size: 13px;
    font-weight: bold;
    color: #333;
    text-align: center;
    text-shadow: 0 1px 1px #fff;
    text-decoration: none;
    border: 1px solid #d2d2d2;
    background-color: #f4f4f4;
    
    @include filter-gradient(#f4f4f4, #dddddd, vertical);
    @include background-image(linear-gradient(top, #f4f4f4 0%,#dddddd 100%));
    @include box-shadow(0 1px 1px #fff inset);
    @include border-radius(4px);  
    @include transition(all 150ms linear);
    
    &:hover {
      background-color: lighten(#f4f4f4,5%);
      @include filter-gradient(lighten(#f4f4f4,5%), lighten(#dddddd,5%), vertical);
      @include background-image(linear-gradient(top, lighten(#f4f4f4,5%) 0%, lighten(#dddddd,5%) 100%));
      @include box-shadow(0 1px 1px #fff inset, 0 1px 3px rgba(#666,0.25));
      @include transition(all 150ms linear);
      @include box-shadow(0 1px 1px #fff inset, 0 2px 3px rgba(#666,0.15));
    }
    
    &:active {
      @include transition(all 150ms linear);
      @include box-shadow(0 1px 1px #fff inset, 0 3px 4px rgba(#666,0.25));
    }
    
  }
}
 
 
/* =========================================================================
  Begin Modal Window 
  ========================================================================== */

/* Codes below needs to be optimised to comply with idiomatic css */  
.md {
  width:       70%;
  max-width:   70%;
  min-height:  480px;
  margin-top:  0;
  margin-left: -35%;
  
  visibility: hidden;  
  opacity:    0;
  
  position: absolute;
  z-index:  501;
  top:  0;
  left: 50%;
  
  // border: 1px solid #333;
  background: rgba(#fff,0.95);
 *background: #fff;
  
  @include border-radius(5px);
  @include box-sizing(border-box);
  @include box-shadow(0 4px 10px rgba(#000,0.25), 0 0 1px #fff inset);
  
  // Set box-sizing to all elements
  &:before,
  &:after,
  * { @include box-sizing(border-box); }
  
  img {
    display:        inline-block;
    height:         auto;
    max-width:      100%;
    vertical-align: middle;
  }
}

// Column Box Model
[class*="md-column"] { 
  float: left;
  margin: 0;
  &:before,
  &:after {
    content: "";
    display: table;
  }
  &:after { clear: both; }
  
  // Float first-child to the left
  &:first-child {
    @include border-left-radius(5px);
    img { @include border-left-radius(5px); }
  }

  // Float last-child to the right  
  &:last-child {
    @include border-right-radius(5px);
    img { @include border-right-radius(5px); }
  }
  
  // Media Container
  &.md-media {
    width:       60%;
    max-width:   60%;
    min-height:  480px;
    position:    relative;
    background:  #fff;
  }
  
  // Media Comment Container
  &.md-content {
    width:       40%;
    min-height:  480px;
    position:    relative;
    overflow:    hidden;
    border-left: 1px solid #ddd;
  }
  
  .md-content-header {
    width:      100%;
    min-height: 30px;
    margin:  0;
    padding: 10px;
    
    border-bottom: 1px solid #ddd;
    background:    #f4f4f4;
    @include box-shadow(0 -1px 1px rgba(#fff,0.5) inset);
  }
  
  .md-content-body {
    clear:   both;
    height:  100%;
    margin:  0;
    padding: 10px;
  }
}

// Modal Backdrop Styles
.md-overlay {
  width:  100%;
  height: 100%;
  
  position: fixed;
  z-index:  500;
  top:  0;
  left: 0;
  
  cursor: pointer;
  background: rgba(#000,0.75);
 *background: #000; 
}

// Hide Modal Elements
.md-overlay { display: none; }